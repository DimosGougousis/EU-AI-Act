[
  {
    "type": "function",
    "function": {
      "name": "fetch_model_metadata",
      "description": "Fetch model version, architecture, hyperparameters, and performance metrics from MLflow model registry.",
      "parameters": {
        "type": "object",
        "properties": {
          "registry_uri": {
            "type": "string",
            "description": "MLflow model registry URI (e.g. mlflow://pulsecredit/v2.1.3)"
          },
          "include_metrics": {
            "type": "boolean",
            "description": "Whether to include performance metrics (AUC, GINI, KS, PSI)"
          }
        },
        "required": ["registry_uri"]
      }
    }
  },
  {
    "type": "function",
    "function": {
      "name": "fetch_data_catalog",
      "description": "Retrieve data source descriptions, lineage, versions, and GDPR legal basis from the data catalog.",
      "parameters": {
        "type": "object",
        "properties": {
          "catalog_ref": {
            "type": "string",
            "description": "Data catalog reference (e.g. datahub://credit/training-2024-q4)"
          }
        },
        "required": ["catalog_ref"]
      }
    }
  },
  {
    "type": "function",
    "function": {
      "name": "populate_annex_iv_template",
      "description": "Map retrieved metadata to all required Annex IV fields. Returns populated fields and list of fields requiring human completion.",
      "parameters": {
        "type": "object",
        "properties": {
          "model_metadata": {
            "type": "object",
            "description": "Model metadata as returned by fetch_model_metadata"
          },
          "data_catalog": {
            "type": "object",
            "description": "Data catalog entry as returned by fetch_data_catalog"
          },
          "additional_context": {
            "type": "string",
            "description": "Free-text additional context provided by the user"
          }
        },
        "required": ["model_metadata", "data_catalog"]
      }
    }
  },
  {
    "type": "function",
    "function": {
      "name": "export_documentation_draft",
      "description": "Export the populated Annex IV documentation draft with a completion percentage and action items for human review.",
      "parameters": {
        "type": "object",
        "properties": {
          "populated_fields": {
            "type": "object",
            "description": "Annex IV sections and their populated content"
          },
          "missing_fields": {
            "type": "array",
            "items": {"type": "string"},
            "description": "List of fields requiring human completion"
          },
          "output_path": {
            "type": "string",
            "description": "Path to save the draft document"
          }
        },
        "required": ["populated_fields", "missing_fields"]
      }
    }
  }
]
